{"version":3,"file":"js/83.4698239e.js","mappings":"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","sources":["webpack://vue3-cms/./src/views/main/system/user/config/search.config.ts","webpack://vue3-cms/./src/views/main/system/user/config/table.config.ts","webpack://vue3-cms/./src/views/main/system/user/config/dialog.config.ts","webpack://vue3-cms/./src/hooks/useSearchHeader.ts","webpack://vue3-cms/./src/views/main/system/user/user.vue","webpack://vue3-cms/./src/views/main/system/user/user.vue?8490"],"sourcesContent":["import type { IForm } from '@/base-ui/form/index';\nexport const searchForm: IForm = {\n  formItems: [\n    {\n      field: 'name',\n      type: 'input',\n      label: '姓名',\n      placeholder: '请输入姓名',\n    },\n    {\n      field: 'realname',\n      type: 'input',\n      label: '真实姓名',\n      placeholder: '请输入真实姓名',\n    },\n    {\n      field: 'enable',\n      type: 'select',\n      label: '状态',\n      placeholder: '请输入状态',\n      selOptions: [\n        {\n          label: '暂停',\n          value: '0',\n        },\n        {\n          label: '启用',\n          value: '1',\n        },\n      ],\n    },\n    {\n      field: 'createAt',\n      type: 'datePicker',\n      label: '创建时间',\n      placeholder: '请输入创建时间',\n      otherOptions: {\n        type: 'daterange',\n        'start-placeholder': '开始时间',\n        'end-placeholder': '结束时间',\n      },\n    },\n  ],\n  labelWidth: '120px',\n  itemStyle: {\n    padding: '10px 40px',\n  },\n  // colLayout: {\n  //   span: 8,\n  // },\n};\n","// import { ITableType } from '@/base-ui/table';\nexport const tableConfig = {\n  title: '用户',\n  tableIndexColumn: true,\n  tableSelectionColumn: true,\n  listProp: [\n    {\n      label: '姓名',\n      prop: 'name',\n    },\n    {\n      label: '真实姓名',\n      prop: 'realname',\n    },\n    {\n      label: '手机号',\n      prop: 'cellphone',\n    },\n    {\n      label: '状态',\n      prop: 'enable',\n      slotName: 'enable',\n    },\n    {\n      label: '更新时间',\n      prop: 'updateAt',\n      slotName: 'updateAt',\n    },\n    {\n      label: '创建时间',\n      prop: 'createAt',\n      slotName: 'createAt',\n    },\n    {\n      label: '操作',\n      slotName: 'handle',\n    },\n  ],\n};\n","import type { IForm } from '@/base-ui/form/index';\nexport const dialogFormConfig: IForm = {\n  formItems: [\n    {\n      field: 'name',\n      type: 'input',\n      label: '姓名',\n      placeholder: '请输入姓名',\n    },\n    {\n      field: 'realname',\n      type: 'input',\n      label: '真实姓名',\n      placeholder: '请输入真实姓名',\n    },\n    {\n      field: 'password',\n      type: 'password',\n      label: '密码',\n      placeholder: '请输入密码',\n      isHidden: false,\n    },\n    {\n      field: 'cellphone',\n      type: 'input',\n      label: '手机号',\n      placeholder: '请输入手机号',\n    },\n    {\n      field: 'roleId',\n      type: 'select',\n      label: '角色',\n      placeholder: '请选择角色',\n      selOptions: [],\n    },\n    {\n      field: 'departmentId',\n      type: 'select',\n      label: '组织',\n      placeholder: '请选择组织',\n      selOptions: [],\n    },\n  ],\n  labelWidth: '120px',\n  itemStyle: {},\n  colLayout: {\n    span: 24,\n  },\n};\n","import { ref } from 'vue';\nimport pageContent from '@/components/page-content/src/page-content.vue';\nexport function useSearchHeader() {\n  const pageContentRef = ref<InstanceType<typeof pageContent>>();\n  const handelResetClick = () => {\n    pageContentRef.value?.getPageData();\n  };\n  const handelSearchClick = (queryInfo: any) => {\n    pageContentRef.value?.getPageData(queryInfo);\n  };\n  return { pageContentRef, handelResetClick, handelSearchClick };\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"user\"\n};\nimport { computed } from 'vue';\nimport { useStore } from '@/store';\nimport { searchForm } from './config/search.config';\nimport { tableConfig } from './config/table.config';\nimport { dialogFormConfig } from './config/dialog.config';\nimport SearchHeader from '@/components/search-header/search-header.vue';\nimport pageContent from '@/components/page-content/src/page-content.vue';\nimport pageModal from '@/components/page-modal';\nimport { useSearchHeader } from '@/hooks/useSearchHeader';\nimport usePageModal from '@/hooks/usePageModal';\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n    const {\n      handelResetClick,\n      handelSearchClick,\n      pageContentRef\n    } = useSearchHeader();\n\n    const addCallBack = () => {\n      let passItem = dialogFormConfig.formItems.find(item => item.field === 'password');\n      passItem.isHidden = false;\n    }; // 修改dialogFormConfig\n\n\n    const editCallBack = () => {\n      let passItem = dialogFormConfig.formItems.find(item => item.field === 'password');\n      passItem.isHidden = true;\n    };\n\n    const store = useStore(); // 动态的表单数据 通过computed 响应式\n\n    const dialogFormConfigRef = computed(() => {\n      let departmentItem = dialogFormConfig.formItems.find(item => item.field === 'departmentId');\n      departmentItem.selOptions = store.state.entireDepartment.map(item => {\n        return {\n          label: item.name,\n          value: item.id\n        };\n      });\n      let roleItem = dialogFormConfig.formItems.find(item => item.field === 'roleId');\n      roleItem.selOptions = store.state.entireRole.map(item => {\n        return {\n          label: item.name,\n          value: item.id\n        };\n      });\n      return dialogFormConfig;\n    });\n    const {\n      pageModalRef,\n      defaultInfo,\n      handleAddDate,\n      handleEditData\n    } = usePageModal(addCallBack, editCallBack);\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(SearchHeader, {\n        searchForm: _unref(searchForm),\n        onHandelResetClick: _unref(handelResetClick),\n        onHandelSearchClick: _unref(handelSearchClick)\n      }, null, 8, [\"searchForm\", \"onHandelResetClick\", \"onHandelSearchClick\"]), _createVNode(pageContent, {\n        tableConfig: _unref(tableConfig),\n        pageName: \"users\",\n        ref_key: \"pageContentRef\",\n        ref: pageContentRef,\n        onHandleAddAction: _unref(handleAddDate),\n        onHandleEditAction: _unref(handleEditData)\n      }, null, 8, [\"tableConfig\", \"onHandleAddAction\", \"onHandleEditAction\"]), _createVNode(_unref(pageModal), {\n        ref_key: \"pageModalRef\",\n        ref: pageModalRef,\n        title: \"用户\",\n        pageName: \"users\",\n        formConfig: _unref(dialogFormConfigRef),\n        defaultInfo: _unref(defaultInfo)\n      }, null, 8, [\"formConfig\", \"defaultInfo\"])]);\n    };\n  }\n\n});","/* unplugin-vue-components disabled */import script from \"./user.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./user.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["searchForm","formItems","field","type","label","placeholder","selOptions","value","otherOptions","labelWidth","itemStyle","padding","tableConfig","title","tableIndexColumn","tableSelectionColumn","listProp","prop","slotName","dialogFormConfig","isHidden","colLayout","span","useSearchHeader","pageContentRef","ref","handelResetClick","getPageData","handelSearchClick","queryInfo","_hoisted_1","class","setup","__props","addCallBack","passItem","find","item","editCallBack","store","dialogFormConfigRef","departmentItem","state","entireDepartment","map","name","id","roleItem","entireRole","pageModalRef","defaultInfo","handleAddDate","handleEditData","usePageModal","_ctx","_cache","onHandelResetClick","onHandelSearchClick","pageName","ref_key","onHandleAddAction","onHandleEditAction","formConfig","__exports__"],"sourceRoot":""}